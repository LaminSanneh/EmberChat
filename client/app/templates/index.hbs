<h2>Users</h2>
<ul class="list-group">
{{#each user in loggedInUsers}}
  <li class="list-group-item row" {{action 'startNewOrExistingSession' user}} >{{ user.username }} &nbsp;<span class="label {{if user.isConnected 'label-success' 'label-default'}}">&nbsp;</span></li>
{{/each}}
</ul>

<h2>Chat Sessions</h2>
<ul class="list-group">
{{#each session in currentUser.chatSessions}}
  <li class="list-group-item row" {{action 'setActiveChatSession' session }} >Session Id: {{session.id}} {{session.title}} <span class="glyphicon glyphicon-remove" {{ action 'deleteChatSession' session }} ></span></li>
{{/each}}
</ul>

{{#if activeSession}}

<h2>Messages for session with Id {{activeSession.id}}</h2>
<ul class="list-group">
{{#each message in activeSession.messages}}
  {{message-item message=message deleteMessageAction="deleteMessage" updateMessageAction="updateMessage" }}
{{/each}}
</ul>

<form {{action 'messageSubmitted' messageBody activeSession currentUser on='submit' }} >
    <div class="form-group">
      <label for="exampleInputEmail1">Message</label>
      {{ textarea value=messageBody class="form-control" }}
    </div>
    <button type="submit" class="btn btn-default pull-right">Submit</button>
</form>
{{/if}}
{{outlet}}
